<html>
  <body>
    <div id="data"></div>
    <script>
    let ignoredDirs = ["tiles_png", "mp3"];

    async function fetchWithRecursion(url) {
        const response = await fetch(url);
        const data = await response.json();
        //console.log(data);
        let htmlString = '<ul>';
        for (let file of data) {
          if(file.type == "dir" && !ignoredDirs.includes(file.name)){
            fetchWithRecursion("https://api.github.com/repos/hsbe/hsbe.github.io/contents/"+file.path);
          }else if(file.type == "file" && file.name.endsWith(".json") )
          htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;

          const map = await fetch(file.path);
          const mapData = await map.json();
          console.log(mapData);



        }
        htmlString += '</ul>';

        document.getElementById("data").innerHTML += htmlString;



    }

    fetchWithRecursion("https://api.github.com/repos/hsbe/hsbe.github.io/contents/");

    </script>
  <body>
</html>
